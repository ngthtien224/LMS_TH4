<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Há»‡ Thá»‘ng Há»c Táº­p - Äiá»ƒm Danh & Quiz</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“ Há»‡ Thá»‘ng Há»c Táº­p</h1>
            <p class="subtitle">Äiá»ƒm danh vÃ  lÃ m quiz hÃ ng ngÃ y</p>
            <div id="currentDate"></div>
        </header>

        <!-- Pháº§n thÃ´ng tin há»c viÃªn -->
        <section class="student-info" id="studentInfoSection">
            <h2>ğŸ‘¤ ThÃ´ng Tin Há»c ViÃªn</h2>
            <div class="form-group">
                <label for="studentName">Há» vÃ  tÃªn:</label>
                <input type="text" id="studentName" placeholder="Nháº­p há» tÃªn cá»§a báº¡n">
            </div>
            <div class="form-group">
                <label for="studentId">MÃ£ há»c viÃªn:</label>
                <input type="text" id="studentId" placeholder="Nháº­p mÃ£ há»c viÃªn">
            </div>
            <button class="btn btn-primary" onclick="saveStudentInfo()">LÆ°u thÃ´ng tin</button>
        </section>

        <!-- Pháº§n Ä‘iá»ƒm danh -->
        <section class="attendance-section" id="attendanceSection" style="display: none;">
            <h2>ğŸ“‹ Äiá»ƒm Danh HÃ´m Nay</h2>
            <div class="attendance-card">
                <div class="student-display">
                    <p><strong>Há»c viÃªn:</strong> <span id="displayName"></span></p>
                    <p><strong>MÃ£ SV:</strong> <span id="displayId"></span></p>
                </div>
                <div id="attendanceStatus" class="status-message"></div>
                <button class="btn btn-success" id="attendanceBtn" onclick="markAttendance()">
                    âœ“ Äiá»ƒm danh
                </button>
            </div>
            
            <div class="attendance-history">
                <h3>Lá»‹ch sá»­ Ä‘iá»ƒm danh</h3>
                <div id="attendanceHistory"></div>
            </div>
        </section>

        <!-- Pháº§n Quiz -->
        <section class="quiz-section" id="quizSection" style="display: none;">
            <h2>ğŸ“ Quiz HÃ´m Nay</h2>
            <div class="quiz-card">
                <div id="quizStatus" class="status-message"></div>
                <div id="quizContainer" style="display: none;">
                    <div class="quiz-header">
                        <span>CÃ¢u há»i <span id="currentQuestion">1</span>/<span id="totalQuestions">5</span></span>
                        <span id="timer">â±ï¸ <span id="timeLeft">60</span>s</span>
                    </div>
                    
                    <div class="question-container">
                        <h3 id="questionText"></h3>
                        <div id="optionsContainer" class="options-container"></div>
                    </div>
                    
                    <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">CÃ¢u tiáº¿p theo â†’</button>
                </div>
                
                <button class="btn btn-success" id="startQuizBtn" onclick="startQuiz()" style="display: none;">
                    Báº¯t Ä‘áº§u Quiz
                </button>
                
                <div id="quizResult" style="display: none;">
                    <h3>ğŸ‰ Káº¿t quáº£ Quiz</h3>
                    <div class="result-card">
                        <p class="score">Äiá»ƒm sá»‘: <span id="finalScore"></span></p>
                        <p>Sá»‘ cÃ¢u Ä‘Ãºng: <span id="correctAnswers"></span>/<span id="totalQuestionsResult"></span></p>
                        <p class="result-message" id="resultMessage"></p>
                    </div>
                </div>
            </div>
            
            <div class="quiz-history">
                <h3>Lá»‹ch sá»­ lÃ m quiz</h3>
                <div id="quizHistory"></div>
            </div>
        </section>

        <!-- Pháº§n thá»‘ng kÃª -->
        <section class="statistics-section" id="statisticsSection" style="display: none;">
            <h2>ğŸ“Š Thá»‘ng KÃª</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“…</div>
                    <div class="stat-content">
                        <h4>Sá»‘ ngÃ y Ä‘iá»ƒm danh</h4>
                        <p class="stat-number" id="totalAttendance">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“</div>
                    <div class="stat-content">
                        <h4>Sá»‘ quiz Ä‘Ã£ lÃ m</h4>
                        <p class="stat-number" id="totalQuizzes">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">â­</div>
                    <div class="stat-content">
                        <h4>Äiá»ƒm trung bÃ¬nh</h4>
                        <p class="stat-number" id="averageScore">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ†</div>
                    <div class="stat-content">
                        <h4>Äiá»ƒm cao nháº¥t</h4>
                        <p class="stat-number" id="highestScore">0</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pháº§n cÃ i Ä‘áº·t Google Sheets - áº¨n cho sinh viÃªn -->
        <section class="google-sheets-section" id="googleSheetsSection" style="display: none !important;">
            <h2>â˜ï¸ Äá»“ng Bá»™ Google Sheets</h2>
            
            <div class="sheets-status" id="sheetsStatus">
                <div class="status-message success">
                    <span id="sheetsStatusText">âœ… Backend server Ä‘ang káº¿t ná»‘i vá»›i Google Sheets</span>
                </div>
            </div>
            
            <div class="sheets-sync" id="sheetsSync">
                <h3>Äá»“ng bá»™ dá»¯ liá»‡u</h3>
                <div class="sync-info">
                    <p>ğŸ“ <strong>Spreadsheet ID:</strong> 1TKmu6oRIEqyG2PfY__deAhp_8em9pkD7PdUUU9DqhfA</p>
                    <p>âœ… Backend server sá»­ dá»¥ng service account credentials</p>
                    <p>ğŸ”„ Dá»¯ liá»‡u sáº½ tá»± Ä‘á»™ng Ä‘á»“ng bá»™ sau má»—i láº§n Ä‘iá»ƒm danh vÃ  lÃ m quiz</p>
                    <p>âš ï¸ <strong>LÆ°u Ã½:</strong> Äáº£m báº£o backend server Ä‘ang cháº¡y trÃªn cá»•ng 3000</p>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-success" onclick="syncAllData()">ğŸ”„ Äá»“ng bá»™ toÃ n bá»™ dá»¯ liá»‡u</button>
                    <button class="btn btn-primary" onclick="testConnection()">ğŸ”Œ Kiá»ƒm tra káº¿t ná»‘i</button>
                </div>
                
                <div id="syncResult" class="sync-result"></div>
            </div>
        </section>

        <footer>
            <button class="btn btn-secondary" onclick="resetData()">ğŸ”„ Äáº·t láº¡i dá»¯ liá»‡u</button>
            <button class="btn btn-secondary" onclick="exportData()">ğŸ“¥ Xuáº¥t dá»¯ liá»‡u</button>
        </footer>
    </div>

    <script src="quizData.js"></script>
    <script src="googleSheets.js"></script>
    <script src="app.js"></script>
</body>
</html>
